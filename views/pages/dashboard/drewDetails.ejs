<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>funrep | Results</title>
  </head>
  <style>
    * {
      margin: 0px;
      padding: 0px;
      box-sizing: border-box;
      font-family: Arial, Helvetica, sans-serif;
    }
    .dasboardContainer {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .layout {
      display: flex;
      flex-direction: column;
      position: relative;
    }
    .firstlayer {
      background-color: black;
      height: 55px;
    }
    .secondlayer {
      background-color: #990000;
      height: 23px;
    }
    .middleul,
    .bottomul {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px;
      height: 100%;
    }
    .bold {
      font-weight: 700;
    }
    a {
      cursor: pointer;
    }
    .middleul li {
      list-style: none;
      font-size: 13px;
      font-weight: normal;
      color: #ffffff;
      cursor: pointer;
    }
    .thirdlayer {
      background-color: #f7b200;
      padding: 5px 10px;
    }
    .bottomul li {
      font-weight: normal;
      font-size: 13px;
      color: #320000;
      list-style: none;
    }
    .logo {
      position: absolute;
      top: 15px;
      left: 10px;
    }
    .tablecontainer {
      display: grid;
      gap: 15px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      width: 1300px;
      padding: 20px 2px;
      margin: auto;
    }
    .heading {
      background: #a27b3a none repeat scroll 0 0 !important;
      padding: 4px 0px;
    }
    h2 {
      padding-left: 4px;
    }
    /* .table1 {
      height: 500px !important;
      overflow-y: scroll;
    } */
    .drawtable {
      width: 100%;
      display: flex;
      margin-top: 3px;
      flex-direction: column;
      /* border: 1px solid black; */
    }
    .drawtable thead {
      background: #a27b3a none repeat scroll 0 0 !important;
      padding: 4px 0px !important;
    }
    .drawtable thead tr {
      display: grid;
      grid-template-columns: 70px 140px 160px;
      width: 100%;
    }
    .drawtable thead tr th {
      justify-self: self-start;
    }
    .drawtable tbody {
      width: 100%;
      height: 500px;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      margin-top: 7px;
    }
    .drawtable tbody tr td {
      border-width: 1px 1px 0px 1px;
      border-style: solid;
      border-color: #000;
      color: #666666;
    }
    .drawtable tbody tr {
      display: grid;
      grid-template-columns: 70px 140px 195px;
      width: 100%;
    }
    tr {
      font-size: 13px;
      /* color: #666666; */
      font-weight: 400;
      text-align: center;
    }
    th {
      text-align: center;
    }
    .odd-row {
      background-color: #efe2ce; /* Example background color for odd rows */
    }
    @media screen and (max-width: 991px) {
      .tablecontainer {
        max-width: 100%;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        padding: 10px;
      }
    }
    .btn {
      position: absolute;
      right: 10px;
    }
    .refreshbtn {
      background: #1e90ff;
      color: #fff;
      padding: 4px;
      font-size: 14px;
      outline: none;
      cursor: pointer;
      border: none;
    }
  </style>
  <body>
    <div class="dasboardContainer">
      <%- include('../../partials/header') %>
      <div class="tablecontainer">
        <div class="table1">
          <div class="heading">
            <h2>Fun Roulette</h2>
          </div>
          <table class="drawtable">
            <thead>
              <tr>
                <th>Sr no.</th>
                <th>Draw no.</th>
                <th>Draw Time.</th>
              </tr>
            </thead>
            <tbody id="funroulette"></tbody>
          </table>
        </div>
        <div class="table2">
          <div class="heading">
            <h2>Fun Target</h2>
          </div>
          <table class="drawtable">
            <thead>
              <tr>
                <th>Sr no.</th>
                <th>Draw no.</th>
                <th>Draw Time.</th>
              </tr>
            </thead>
            <tbody id="funtarget">
              <!-- <tr>
                <td>1</td>
                <td>1</td>
                <td>1</td>
              </tr> -->
            </tbody>
          </table>
        </div>
        <div class="table3">
          <div class="heading">
            <h2>Triple Fun</h2>
          </div>
          <table class="drawtable">
            <thead>
              <tr>
                <th>Sr no.</th>
                <th>Draw no.</th>
                <th>Draw Time.</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>1</td>
                <td>1</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="table4">
          <div class="heading">
            <h2>Fun AndarBahar</h2>
          </div>
          <table class="drawtable">
            <thead>
              <tr>
                <th>Sr no.</th>
                <th>Draw no.</th>
                <th>Draw Time.</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>1</td>
                <td>1</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="btn">
          <button class="refreshbtn">Refresh</button>
        </div>
      </div>
    </div>
  </body>
</html>

<!-- JAVASCRIPT -->
<script src="/libs/jquery/jquery.min.js"></script>
<script src="/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/libs/metismenu/metisMenu.min.js"></script>
<script src="/libs/simplebar/simplebar.min.js"></script>
<script src="/libs/node-waves/waves.min.js"></script>
<script src="/libs/jquery-sparkline/jquery.sparkline.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

<!--Morris Chart-->
<script src="/libs/morris.js/morris.min.js"></script>
<script src="/libs/raphael/raphael.min.js"></script>

<script src="/js/pages/dashboard.init.js"></script>

<!-- App js -->
<script src="/js/app.js"></script>

<script>
  $(document).ready(function () {
    FunRoulette();
    FunTarget();
    function FunRoulette() {
      $.ajax({
        url: "gamehistory",
        method: "POST",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify({ gameType: "Roulette" }),
        success: (response) => {
          console.log("response: ", response);
          const staticRow = $('<tr id="trr">');
          // Add table cells with user data
          staticRow.append($("<td>").text(1));
          staticRow.append($("<td>").text("NOT OPEN"));
            let dateInString = response.data[0].created_at;
            var options = { timeZone: 'Asia/Kolkata' };
            var ISTDateString = dateInString.toLocaleString('en-US', options);
            var formattedDate = moment(ISTDateString).add(1, 'minute').format('DD-MMM-YYYY hh:mm:ss A');
          staticRow.append($("<td>").text(formattedDate));
          $("#funroulette").append(staticRow);
          let count = 2;
          $.each(response.data, function (index, data) {
            // Create a new table row
            var newRow = $('<tr id="trr">');

            // Add table cells with user data
            newRow.append($("<td>").text(count));
            newRow.append($("<td>").text(data.not_open_number));
            newRow.append($("<td>").text(data.created_at));
            if (count % 2 == 0) {
              newRow.addClass("odd-row");
            }
            // Append the new row to the table body
            $("#funroulette").append(newRow);
            count++;
          });
        },
        error: (response) => {},
      });
    }
    function FunTarget() {
      $.ajax({
        url: "gamehistory",
        method: "POST",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify({ gameType: "FunTarget" }),
        success: (response) => {
          console.log("response: ", response);
          const staticRow = $('<tr id="trr">');
          // Add table cells with user data
          staticRow.append($("<td>").text(1));
          staticRow.append($("<td>").text("NOT OPEN"));
            let dateInString = response.data[0].created_at;
            var options = { timeZone: 'Asia/Kolkata' };
            var ISTDateString = dateInString.toLocaleString('en-US', options);
            var formattedDate = moment(ISTDateString).add(1, 'minute').format('DD-MMM-YYYY hh:mm:ss A');
          staticRow.append(
            $("<td>").text(formattedDate)
          );
          $("#funtarget").append(staticRow);

          let count = 2;
          $.each(response.data, function (index, data) {
            // Create a new table row
            var newRow = $('<tr id="trr">');

            // Add table cells with user data
            newRow.append($("<td>").text(count));
            newRow.append($("<td>").text(data.not_open_number));
            newRow.append(
              $("<td>").text(data.created_at)
            );
            if (count % 2 == 0) {
              newRow.addClass("odd-row");
            }
            // Append the new row to the table body
            $("#funtarget").append(newRow);
            count++;
          });
        },
        error: (response) => {},
      });
    }
  });
</script>
